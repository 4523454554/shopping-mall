<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layouts/layout.html}">
<head>
    <title>상품 상세</title>
</head>
<body>

<div th:replace="fragments/navbar :: navbar"></div>

<div layout:fragment="content">

    <div class="container">
        <!--  <h1 th:text="${response.name}" class="my-4">상품명</h1>-->
        <h1></h1>
        <div class="row">

            <div class="col-md-8">
                <img class="bd-placeholder-img card-img-top" width="100%" height="500"
                     th:src="'data:image/jpeg;base64,'+${response.image}"
                     alt="..."/>
                <!--      <img class="img-fluid" src="https://via.placeholder.com/750x500" alt="">-->
            </div>

            <div class="col-md-4">
                <h3 th:text="'이름: ' + ${response.name}" class="my-3">상품 이름</h3>
                <h4 th:text="'가격: ' + ${response.price} + ' 원'">가격</h4>
                <h3 class="my-3">상세설명</h3>
                <ul>
                    <li th:text="'재고: ' + ${response.stock} + ' 개'">재고</li>
                    <li th:text="'설명: ' + ${response.description}">설명</li>
                </ul>

                <form method="post">
                    <input type="hidden" name="id" th:value="${response.id}"/>
                <div class="col-6 d-flex">
                    <a class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                        <i class="fas fa-minus"></i>
                    </a>

                    <input id="form1" min="1" th:max="${response.stock}" name="quantity" value="1" type="number"
                           class="form-control form-control-sm"/>
                    <a class="btn btn-link px-2"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                        <i class="fas fa-plus"></i>
                    </a>
                </div>
                <hr>
                <button type="submit" class="btn btn-outline-dark" formaction="/cart/add">
                    <i class="fas fa-shopping-cart"></i>
                    장바구니
                </button>
                <button type="submit" class="btn btn-outline-dark" formaction="/order/now">
                    <i class="fas fa-cash-register"></i>
                    바로구매
                </button>
                </form>
            </div>
        </div>

    <!-- /.row -->

    <!-- Related Projects Row -->
    <h3 class="my-4">Related Projects</h3>

    <div class="row">

        <div class="col-md-3 col-sm-6 mb-4">
            <a href="#">
                <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="">
            </a>
        </div>

        <div class="col-md-3 col-sm-6 mb-4">
            <a href="#">
                <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="">
            </a>
        </div>

        <div class="col-md-3 col-sm-6 mb-4">
            <a href="#">
                <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="">
            </a>
        </div>

        <div class="col-md-3 col-sm-6 mb-4">
            <a href="#">
                <img class="img-fluid" src="https://via.placeholder.com/500x300" alt="">
            </a>
        </div>
    </div>
    </div>
    <script th:src="@{/js/add_to_cart.js}"></script>
    <script th:src="@{/js/buy_now.js}"></script>

</div>

</body>
</html>